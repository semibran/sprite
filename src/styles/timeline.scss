@import './timeline-controls';

.panel.-timeline {
  background: $white;
  border-top: thin solid $silver;
  flex-grow: 0;

  .panel-content {
    height: 45vh;
    position: relative;
    overflow-y: auto;
  }

  table {
    position: absolute;
    border-spacing: 0;
    border-collapse: collapse;
    width: 100%;
  }

  table::after {
    content: '';
    display: table-cell;
    background: white;
    height: 80px;
    border-top: thin solid $silver;
    border-right: thin solid $silver;
  }

  .frame-number span {
    color: $lightgray;
    border: thin solid $silver;
    border-radius: 4px;
    width: $thumb-size;
    line-height: 24px;
    margin-left: 4px;
    text-align: center;
    display: block;
  }

  .frame-number:nth-child(2) span {
    margin-left: 12px;
  }

  .frame-number:last-child span {
    margin-right: 12px;
  }

  .frame:nth-child(2) {
    padding-left: 12px;
  }

  .track-end {
    width: 100%;
  }

  .track-bg {
    border-top: thin solid $silver;
    position: absolute;
    left: 0;
    width: 100%;
    height: 80px;
  }
}

.timeline-header, .timeline-track {
  & > *:first-child {
    background: white;
    border-right: thin solid $silver;
  }
}

.timeline-track {
  cursor: pointer;
  position: relative;

  .track-name {
    border-top: thin solid $silver;
    padding: 0 24px;
    line-height: 80px;
    font-weight: 500;
    display: flex;
    justify-content: flex-end;
    align-items: center;

    .icon {
      margin-right: 8px;
    }
  }

  .track-name.-add {
    color: $blue;

    &:hover {
      background: $lightblue;
    }
  }

  .track-prompt {
    color: $lightgray;
    border: 2px dashed $silver;
    border-radius: 4px;
    line-height: calc(64px - 4px);
    margin-left: 12px;
    text-align: center;

    &.-focus {
      color: $blue;
      border-color: $blue;
      background: $lightblue;
    }
  }
}

.timeline-track.-select {

  .track-name {
    background: $lightblue;
    color: $blue;
    border-top-color: $blue;
    border-right-color: $blue;
  }

  .track-name, .frame {
    position: relative;
    z-index: 2;
  }

  .track-bg {
    border-top-color: $blue;
    background: $lightblue;
  }

  & + .timeline-track .track-bg {
    border-top-color: $blue;
  }
}
